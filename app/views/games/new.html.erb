<%= render "modal" %>

<% defaults = [Faker::JapaneseMedia::StudioGhibli.character, Faker::Movies::Lebowski.character, Faker::Book.title, Faker::Creature::Animal.name.capitalize(), Faker::Superhero.power.capitalize(), Faker::Superhero.name, Faker::Superhero.prefix.concat(" ").concat(Faker::Creature::Animal.name.capitalize())] %>
<% default_name = defaults[rand(defaults.length)] %>
<div class="container ml-5 p-2 w-25 new-page-identifier" data-default-name ="<%= default_name %>">
  <h3 class="pickem">Name your game, or we'll name it for you:</h3>
  <input type="text" id="game-name" placeholder="A game">
  <p class="pickem">Pick 1â€“3 Opponents</p>
  <div id="players" data-username = <%= current_user.username %>>
      <% @users.each do | user | %>
      <% if user.username != current_user.username %>
      <div class="opponent d-flex justify-content-between" data-userid = <%= user.id %>>
        <div class="opponent-name" data-email=<%= user.email %>><%= user.username %></div>
        <div><input type="checkbox"></div>
      </div>
      <% end %>
    <% end %>
    <button id="new-game-btn">Start New Game</button>
  <% new_grid  = "_ " * 225 %>

  <%= form_with(model: @game, id: 'new-game', method:'POST', action: games_path) do |f| %>
    <%#= f.hidden_field :players, id:"players" %>
    <%=f.hidden_field :name, value:'A game', id:'new-name' %>
    <%=f.hidden_field :completed, value:false, id:'new-completed' %>
    <%=f.hidden_field :current_player, value:0, id:'new-current' %>
    <%=f.hidden_field :letter_grid, value:"#{new_grid}", id:'new-grid' %>
    <%=f.hidden_field :opponents, value:[], id:'new-opponents' %>
    <%#= f.check_box :opponents, @users %>
  <% end %>

</div>
